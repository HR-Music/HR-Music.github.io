<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hengye Rao - Music & Sound Portfolio</title>
     <link rel="stylesheet" href="https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/main/style.css">
</head>

    <section>
  <h2>Echoes of the Land Veins</h2>

  <div id="playlist">
    <!-- Tracks will be dynamically generated by JS -->
  </div>

  </section>
  <script>
const tracks = [
  {
    name: "Siren",
    cover: "https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/refs/heads/main/%E2%80%9CEchoes%20of%20the%20Land%20Veins%E2%80%9D/01.%20Siren.jpg", // 换成实际封面图链接
    url: "https://my.microsoftpersonalcontent.com/personal/4340f57cd61addc9/_layouts/15/download.aspx?UniqueId=4f74bb3b-2d76-46f8-a85a-6f3302cfa97b&amp;Translate=false&amp;tempauth=v1e.eyJzaXRlaWQiOiJlYTBmYzczNS0yZDI2LTQzZmYtYWY2Ny1lZGU1MjJlMDRlNzAiLCJhcHBpZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDA0ODE3MTBhNCIsImF1ZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMC9teS5taWNyb3NvZnRwZXJzb25hbGNvbnRlbnQuY29tQDkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsImV4cCI6IjE3NDc4NjQwODUifQ.6nTYmFsIDqYp850JILrsNs1y5J_caDWjC80w9k-WxsjdExlaSL-ZSnnxXlVqlIvMdL5GR23jOOHRLTomBUN4UxKE2PqmpcipyFE1qgyL2CyEELYN48xXiODKiYil_d7BlzN_OwxvaMSMIiUbGvKkudhOCrV3KsDTtqdpQb_sNp6so8I8RcYlosEUTj9ZQPPraKOjGRjf1o67VFfzShsWSsdsfxenQx9n0nJ6b34-fs_HT40hymh6YNG8kqZFsRBV5lpPMqEkjQvcyRWp6Nc-xQB9d0tmr5BvEWDXfSBVo0S2QZDGbmYr4pQkWx9RUiIPnGEIZbDVFTqdjb9SINDeKcgRTIBB8ckwMyO2f3tcyRFpRy624s0qaz-P2g0yFMNLpMF6VsmeHWXdt8g6j-VJkw.5Elnus-1Lt74YT5_A69TySlHFE6QyV2mBn20PPLoVJs&amp;ApiVersion=2.0&amp;AVOverride=1"
  },
  {
    name: "Forest Warrior",
    cover: "https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/refs/heads/main/%E2%80%9CEchoes%20of%20the%20Land%20Veins%E2%80%9D/02.%20Forest%20Warrior.jpg",
    url: "https://my.microsoftpersonalcontent.com/personal/4340f57cd61addc9/_layouts/15/download.aspx?UniqueId=c6bbcfb2-0385-45da-abdd-1b2216a9ac06&amp;Translate=false&amp;tempauth=v1e.eyJzaXRlaWQiOiJlYTBmYzczNS0yZDI2LTQzZmYtYWY2Ny1lZGU1MjJlMDRlNzAiLCJhcHBpZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDA0ODE3MTBhNCIsImF1ZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMC9teS5taWNyb3NvZnRwZXJzb25hbGNvbnRlbnQuY29tQDkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsImV4cCI6IjE3NDc4NjQyODUifQ.etyO6L3krsCaWhaZ77ESwYl5oBADsh45pKYkJ4KNgu94_XySx5GV2LXbQcuyNyzIzNqo_p9gTlv1LBtrQ9pWEtzInItwcyw-mIMpRsW1d-RKwyytTYj80_csA_E50YINSylvEiG_JNHHs9k71xnp3G22HIGnWO0lqQEbJEoxJVahg2hRBnzMgsEeVYDYIHa9K_CRosamzNhbigOFi-snTF1YQzFkkYpeukeBKI-NQH9_gdgPOyU9BwSWRIxtcqTFhWHHn9H3js6dOJmyQwTEMhS2ca1PNgi2dOeSr3OcXSYyW2GxPbZ-UAf1yasWRf5_2iOvhtezx3ILWet7UUpHfvObxLUF-ZIv6_9VfJE7t6SLGECwdXDPm4ZtqQjuTjbFAzEiApz1cCu9JHtTDLieXA.ltF-2XBMmf78H5EIjFFWvkNXZczOXAd8b-fzBhMIO78&amp;ApiVersion=2.0&amp;AVOverride=1"
  },
  {
    name: "Village",
    cover: "https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/refs/heads/main/%E2%80%9CEchoes%20of%20the%20Land%20Veins%E2%80%9D/03.%20Village%20(Draft).jpg",
    url: "https://my.microsoftpersonalcontent.com/personal/4340f57cd61addc9/_layouts/15/download.aspx?UniqueId=737458c3-39b9-46f0-bc1a-18807334bf9f&amp;Translate=false&amp;tempauth=v1e.eyJzaXRlaWQiOiJlYTBmYzczNS0yZDI2LTQzZmYtYWY2Ny1lZGU1MjJlMDRlNzAiLCJhcHBpZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDA0ODE3MTBhNCIsImF1ZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMC9teS5taWNyb3NvZnRwZXJzb25hbGNvbnRlbnQuY29tQDkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsImV4cCI6IjE3NDc4NjQ0NDkifQ.NT8zW1tDpO71Htr_n-_jQDoCvay8sWkdUKvAo2mPiBrKNzVGwaArHsHepcIJzRuFFZ6rzOID1wul6AnwQ36yJhwgxMZBXWs5NFYT-OexhIxubPgAela8ZwKD6IbBhbhAmWnIIPM0ev42w6vyaL_eDABZcjeitlLFntDZUukdlPqzGz6HqR7fgrL74z2PRFHsRYAbRTmD2_D_EbbqnzV0XINSv0yWSKKieMHGihdOvSZ2s9vQNNusL_mNW54LvsdPrpTO-Ib9r7ddHrsgqoHA6364xjMPuax7kQ-VHQ9KaSW5aP9Rjg3SYX4_dfCG0s298BAquGRKiCPNxNzgPn6aL50Uf7wPZBl5Y1JEfR6GAvi0gn7CnP06UUh9ibICfTXohgbi9gFM5V2Q1wloKCF3ww.lVhGw6b_f_ExERnHH8IPy2da9jzB8hdA3aMXP-Ix5MU&amp;ApiVersion=2.0&amp;AVOverride=1"
  },
  {
    name: "Dragon",
    cover: "https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/refs/heads/main/%E2%80%9CEchoes%20of%20the%20Land%20Veins%E2%80%9D/04.%20Dragon%20(Draft).jpg",
    url: "https://my.microsoftpersonalcontent.com/personal/4340f57cd61addc9/_layouts/15/download.aspx?UniqueId=3f04183c-bd25-477a-b18a-60db061657fd&amp;Translate=false&amp;tempauth=v1e.eyJzaXRlaWQiOiJlYTBmYzczNS0yZDI2LTQzZmYtYWY2Ny1lZGU1MjJlMDRlNzAiLCJhcHBpZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDA0ODE3MTBhNCIsImF1ZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMC9teS5taWNyb3NvZnRwZXJzb25hbGNvbnRlbnQuY29tQDkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsImV4cCI6IjE3NDc4NjQ1NDQifQ.ICPtvAARNdj5CQYwRNsZgHUUacooa2pD4VFFq4oqSjmY6qTyJgZQskjdX-MQMdZ4dDynqbs-WYxU7_Vg_9pjgaeWVchM_EfyOSqurijBKTZ-SOz1Fw42UJBU2cnzBoJ9wzrFj1pcfviL5GNi-6KnN8wwqFbswSIQ97Hr_t0vlTqHYoC0mxok3XUhsGI2C1WESRGUr_fWWwwpvv4lwgoLOXwPSPz-mxA__yTrcU81DFdUAwSznR4Dp6_uFyg5GFrHOhHYPws-P9rSSspIHKTgjHxtJFmnGBUZIQD_DEcATRVEFNDPdy81Oa8NbSPze-YjFG4e5IX7SkOiJEZD-fobiI-BlIBL7GeRdznKJTiV_rcVy5WKRFwJCbEKeeGJ4entYYtg0zzt-fd-eF_wGix5tQ.-lukq7AuLPOwnW33rH3PzkJ-smq1KVjHQm6MixTd414&amp;ApiVersion=2.0&amp;AVOverride=1"
  },
  {
    name: "Dwarf",
    cover: "https://raw.githubusercontent.com/HR-Music/HR-Music.github.io/refs/heads/main/%E2%80%9CEchoes%20of%20the%20Land%20Veins%E2%80%9D/05.%20Dwarf%20(Draft).jpg",
    url: "https://my.microsoftpersonalcontent.com/personal/4340f57cd61addc9/_layouts/15/download.aspx?UniqueId=d51bb235-7a62-4c4d-901a-84f8a4e8f6e2&amp;Translate=false&amp;tempauth=v1e.eyJzaXRlaWQiOiJlYTBmYzczNS0yZDI2LTQzZmYtYWY2Ny1lZGU1MjJlMDRlNzAiLCJhcHBpZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDA0ODE3MTBhNCIsImF1ZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMC9teS5taWNyb3NvZnRwZXJzb25hbGNvbnRlbnQuY29tQDkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsImV4cCI6IjE3NDc4NjQ2MjEifQ.vel6MtqgLT1cf3SzSNvMxRaUgmnuFEVAZh0pqO9OwJ1jFMY6UxqW0EQDN4Ilth1xHF72Nr0xKaJesS7gtFN9K13mxXX5nqWW13y9isoOEQQANH_4t6UoQFze02s_aN88El7DyrdSXFjaAiJRLbuWvmr2871cuza4sz-gfNFJDMFc0atu0-eh6eMlfHcf6bIMhKjVv2ZxGgDWw28awkwbGSziokm4yL--gFNTENtaH4IUkYHQ1dU2ztQurIzfJ_igdpZHEWkoPQrxxCBar-CUJ8GCVDKHeao135HJb76AmoWB4UxRkkcjhrZuEIRy2IQEx0HUIrES62FEsfpmoHsL9oV4bCD1t6h4y6KYhjuILZtWCRmDAktEn7T2Tzxl0XFLkIp_ZyVv-GNkymDwJkAeCg.8VuaKLSSM9dXdeaRHLk9HFHbjzsSffNazJ009OtEvT0&amp;ApiVersion=2.0&amp;AVOverride=1"
  }
];

const playlistDiv = document.getElementById('playlist');


let currentAudio = null;
let currentBtn = null;
let currentProgressBar = null;
let currentTimeDisplay = null;
let durationDisplay = null;
let isDragging = false;

tracks.forEach(track => {
  // 创建卡片
  const card = document.createElement('div');
  card.className = 'track-card';

  // 封面
  const cover = document.createElement('img');
  cover.className = 'cover';
  cover.src = track.cover;
  cover.alt = track.name + ' cover';
  card.appendChild(cover);

  // 曲名
  const name = document.createElement('div');
  name.className = 'track-name';
  name.textContent = track.name;
  card.appendChild(name);

  // 音频对象
  const audio = new Audio(track.url);
  audio.preload = 'none';

  // 按钮
  const btn = document.createElement('button');
  btn.className = 'play-btn';
  btn.textContent = 'Play';
  card.appendChild(btn);

  // 时间显示容器
  const timeContainer = document.createElement('div');
  timeContainer.className = 'time-container';

  const currentTimeEl = document.createElement('span');
  currentTimeEl.className = 'current-time';
  currentTimeEl.textContent = '0:00';
  timeContainer.appendChild(currentTimeEl);

  const slash = document.createElement('span');
  slash.textContent = ' / ';
  timeContainer.appendChild(slash);

  const durationEl = document.createElement('span');
  durationEl.className = 'duration';
  durationEl.textContent = '0:00';
  timeContainer.appendChild(durationEl);

  card.appendChild(timeContainer);

  // 进度条
  const progressBar = document.createElement('input');
  progressBar.type = 'range';
  progressBar.className = 'progress-bar';
  progressBar.min = 0;
  progressBar.max = 100;
  progressBar.value = 0;
  progressBar.step = 0.1;
  card.appendChild(progressBar);

  // 播放按钮点击事件
  btn.addEventListener('click', () => {
    if (currentAudio && currentAudio !== audio) {
      // 暂停正在播放的音频，恢复按钮样式
      currentAudio.pause();
      if (currentBtn) {
        currentBtn.textContent = 'Play';
        currentBtn.classList.remove('paused', 'loading');
      }
      if (currentProgressBar) currentProgressBar.value = 0;
      if (currentTimeDisplay) currentTimeDisplay.textContent = '0:00';
      if (durationDisplay) durationDisplay.textContent = '0:00';
    }

    if (audio.paused) {
      btn.textContent = 'Loading...';
      btn.classList.add('loading');
      currentAudio = audio;
      currentBtn = btn;
      currentProgressBar = progressBar;
      currentTimeDisplay = currentTimeEl;
      durationDisplay = durationEl;

      audio.play().then(() => {
        btn.textContent = 'Pause';
        btn.classList.remove('loading');
        btn.classList.add('paused');
      }).catch(() => {
        btn.textContent = 'Play';
        btn.classList.remove('loading');
      });
    } else {
      audio.pause();
    }
  });

  // 音频元数据加载完成，更新总时长
  audio.addEventListener('loadedmetadata', () => {
    durationEl.textContent = formatTime(audio.duration);
  });

  // 播放时更新时间和进度条
  audio.addEventListener('timeupdate', () => {
    if (!isDragging && audio.duration) {
      const percent = (audio.currentTime / audio.duration) * 100;
      progressBar.value = percent;
      currentTimeEl.textContent = formatTime(audio.currentTime);
    }
  });

  // 播放暂停按钮样式更新
  audio.addEventListener('pause', () => {
    btn.textContent = 'Play';
    btn.classList.remove('paused', 'loading');
    if (currentAudio === audio) {
      currentAudio = null;
      currentBtn = null;
      currentProgressBar = null;
      currentTimeDisplay = null;
      durationDisplay = null;
    }
  });

  // 播放结束复位
  audio.addEventListener('ended', () => {
    btn.textContent = 'Play';
    btn.classList.remove('paused', 'loading');
    progressBar.value = 0;
    currentTimeEl.textContent = '0:00';
    if (currentAudio === audio) {
      currentAudio = null;
      currentBtn = null;
      currentProgressBar = null;
      currentTimeDisplay = null;
      durationDisplay = null;
    }
  });

  // 进度条拖动事件
  progressBar.addEventListener('input', () => {
    isDragging = true;
    const time = (progressBar.value / 100) * audio.duration;
    currentTimeEl.textContent = formatTime(time);
  });

  progressBar.addEventListener('change', () => {
    if (audio.duration) {
      audio.currentTime = (progressBar.value / 100) * audio.duration;
    }
    isDragging = false;
  });

  playlistDiv.appendChild(card);
});

// 格式化时间，秒转分秒 1:23
function formatTime(seconds) {
  const m = Math.floor(seconds / 60);
  const s = Math.floor(seconds % 60);
  return m + ':' + (s < 10 ? '0' : '') + s;
}
</script>

<style>
